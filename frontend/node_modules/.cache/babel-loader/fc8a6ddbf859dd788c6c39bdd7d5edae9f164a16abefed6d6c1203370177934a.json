{"ast":null,"code":"var _jsxFileName = \"/Users/friday/Documents/TaskForceOrganization/frontend/src/components/NearbyRestaurants.jsx\";\nimport React, { Component } from 'react';\nimport { GoogleApiWrapper } from 'google-maps-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NearbyRestaurants extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      bestRestaurants: []\n    };\n    this.searchNearbyRestaurants = position => {\n      const {\n        google\n      } = this.props;\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n\n      // Create a PlacesService instance\n      const placesService = new google.maps.places.PlacesService(document.createElement('div'));\n\n      // Define search parameters\n      const request = {\n        location: new google.maps.LatLng(latitude, longitude),\n        radius: 500,\n        // Search radius in meters (adjust as needed)\n        type: 'restaurant',\n        rankBy: google.maps.places.RankBy.PROMINENCE // Sort by prominence\n      };\n\n      // Perform nearby search\n      placesService.nearbySearch(request, (results, status) => {\n        if (status === google.maps.places.PlacesServiceStatus.OK) {\n          // Sort the restaurants based on rating (you can use your own ranking algorithm)\n          const filteredRestaurants = results.filter(restaurant => {\n            return restaurant.rating >= 4 && restaurant.user_ratings_total >= 50;\n          });\n          const sortedRestaurants = filteredRestaurants.sort((a, b) => b.rating - a.rating).slice(0, 5); // Select top 5 restaurants\n\n          // Update state with the best 5 restaurants\n          this.setState({\n            bestRestaurants: sortedRestaurants\n          });\n        } else {\n          console.error('Error fetching nearby restaurants:', status);\n        }\n      });\n    };\n    // Function to categorize restaurant into its cuisine\n    this.getCuisineCategory = restaurantName => {\n      // Implement your logic to categorize each restaurant into its cuisine category\n      // For simplicity, let's assume the cuisine categories based on the restaurant name\n      // You can replace this with a more sophisticated logic if needed\n      const cuisineMap = {\n        '신수돈가스': 'Kooorean',\n        'Chez Pierre': 'French',\n        'Sakura Sushi Bar': 'Japanese',\n        'Taj Mahal Indian Cuisine': 'Indian',\n        'Spice Garden Thai Restaurant': 'Thai'\n      };\n      return cuisineMap[restaurantName] || 'Unknown'; // Default to 'Unknown' if cuisine not found\n    };\n  }\n  componentDidMount() {\n    // Get user's current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.searchNearbyRestaurants);\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  }\n  render() {\n    const {\n      bestRestaurants\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Top 5 Nearby Restaurants by Cuisine\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: bestRestaurants.map((restaurant, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [restaurant.name, \" - \", this.getCuisineCategory(restaurant.name), \" - \", restaurant.rating, \" - \", restaurant.user_ratings_total]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyCnv1eojLjZwtHpBXy_QZ3bSv2slXEsLyc'\n})(NearbyRestaurants);","map":{"version":3,"names":["React","Component","GoogleApiWrapper","jsxDEV","_jsxDEV","NearbyRestaurants","constructor","args","state","bestRestaurants","searchNearbyRestaurants","position","google","props","latitude","longitude","coords","placesService","maps","places","PlacesService","document","createElement","request","location","LatLng","radius","type","rankBy","RankBy","PROMINENCE","nearbySearch","results","status","PlacesServiceStatus","OK","filteredRestaurants","filter","restaurant","rating","user_ratings_total","sortedRestaurants","sort","a","b","slice","setState","console","error","getCuisineCategory","restaurantName","cuisineMap","componentDidMount","navigator","geolocation","getCurrentPosition","log","render","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","name","apiKey"],"sources":["/Users/friday/Documents/TaskForceOrganization/frontend/src/components/NearbyRestaurants.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { GoogleApiWrapper } from 'google-maps-react';\n\nclass NearbyRestaurants extends Component {\n  state = {\n    bestRestaurants: []\n  };\n\n  componentDidMount() {\n    // Get user's current location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this.searchNearbyRestaurants);\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  searchNearbyRestaurants = (position) => {\n    const { google } = this.props;\n    const { latitude, longitude } = position.coords;\n\n    // Create a PlacesService instance\n    const placesService = new google.maps.places.PlacesService(document.createElement('div'));\n\n    // Define search parameters\n    const request = {\n      location: new google.maps.LatLng(latitude, longitude),\n      radius: 500, // Search radius in meters (adjust as needed)\n      type: 'restaurant',\n      rankBy: google.maps.places.RankBy.PROMINENCE // Sort by prominence\n    };\n\n    // Perform nearby search\n    placesService.nearbySearch(request, (results, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        // Sort the restaurants based on rating (you can use your own ranking algorithm)\n        const filteredRestaurants = results.filter(restaurant => {\n            return restaurant.rating >= 4 && restaurant.user_ratings_total >= 50;\n          });\n        const sortedRestaurants = filteredRestaurants.sort((a, b) => b.rating - a.rating).slice(0, 5); // Select top 5 restaurants\n        \n        // Update state with the best 5 restaurants\n        this.setState({ bestRestaurants: sortedRestaurants });\n      } else {\n        console.error('Error fetching nearby restaurants:', status);\n      }\n    });\n  }\n\n  // Function to categorize restaurant into its cuisine\n  getCuisineCategory = (restaurantName) => {\n    // Implement your logic to categorize each restaurant into its cuisine category\n    // For simplicity, let's assume the cuisine categories based on the restaurant name\n    // You can replace this with a more sophisticated logic if needed\n    const cuisineMap = {\n      '신수돈가스': 'Kooorean',\n      'Chez Pierre': 'French',\n      'Sakura Sushi Bar': 'Japanese',\n      'Taj Mahal Indian Cuisine': 'Indian',\n      'Spice Garden Thai Restaurant': 'Thai'\n    };\n\n    return cuisineMap[restaurantName] || 'Unknown'; // Default to 'Unknown' if cuisine not found\n  }\n\n  render() {\n    const { bestRestaurants } = this.state;\n\n    return (\n      <div>\n        <h2>Top 5 Nearby Restaurants by Cuisine</h2>\n        <ul>\n          {bestRestaurants.map((restaurant, index) => (\n            <li key={index}>\n              {restaurant.name} - {this.getCuisineCategory(restaurant.name)} - {restaurant.rating} - {restaurant.user_ratings_total}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyCnv1eojLjZwtHpBXy_QZ3bSv2slXEsLyc'\n})(NearbyRestaurants);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}